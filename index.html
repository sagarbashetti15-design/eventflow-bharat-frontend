<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>EventFlow Bharat | Discover & Book Events</title>
<meta name="description" content="Discover, book and manage events across India. Weddings, concerts, corporate events & more.">

<script src="https://checkout.razorpay.com/v1/checkout.js"></script>

<style>
/* ===== BASE ===== */
*{box-sizing:border-box}
body{margin:0;font-family:Inter,Arial;background:#f7f9fc;color:#1f2937}
.container{max-width:1200px;margin:auto;padding:20px}
h1,h2,h3{margin:0}

/* ===== HERO ===== */
.hero{
  background:linear-gradient(135deg,#6c63ff,#4b47c6);
  color:#fff;padding:60px 20px;border-radius:0 0 32px 32px
}
.hero h1{font-size:40px}
.hero p{opacity:.9;margin:10px 0 20px}
.searchbar{display:flex;gap:10px;flex-wrap:wrap}
.searchbar input,select{
  padding:14px;border-radius:12px;border:none;flex:1
}
.searchbar button{
  padding:14px 20px;border-radius:12px;border:none;
  background:#fff;color:#6c63ff;font-weight:600
}

/* ===== CATEGORIES ===== */
.categories{display:flex;gap:12px;overflow-x:auto;padding:20px 0}
.cat{
  background:#fff;padding:10px 18px;border-radius:999px;
  box-shadow:0 6px 18px rgba(0,0,0,.08);
  cursor:pointer;white-space:nowrap
}
.cat.active{background:#6c63ff;color:#fff}

/* ===== EVENTS ===== */
.grid{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:20px
}
.card{
  background:#fff;border-radius:18px;
  box-shadow:0 12px 30px rgba(0,0,0,.08);
  overflow:hidden;transition:.3s
}
.card:hover{transform:translateY(-6px)}
.card img{width:100%;height:160px;object-fit:cover}
.card-body{padding:18px}
.price{font-weight:700;color:#6c63ff}

/* ===== BUTTON ===== */
button{
  width:100%;padding:14px;border-radius:12px;
  border:none;background:#6c63ff;color:#fff;font-weight:600;
  cursor:pointer
}

/* ===== MODAL ===== */
.modal{
  position:fixed;inset:0;background:rgba(0,0,0,.4);
  display:none;align-items:center;justify-content:center;z-index:1000
}
.modal-box{
  background:#fff;padding:24px;border-radius:18px;
  width:90%;max-width:420px
}
input{
  width:100%;padding:14px;border-radius:12px;
  border:1px solid #ccc;margin:8px 0
}

/* ===== AI ===== */
.ai{
  background:#eef0ff;border-left:5px solid #6c63ff;
  border-radius:18px;padding:20px;margin:40px 0
}

/* ===== FOOTER ===== */
footer{
  background:#fff;padding:40px;text-align:center;margin-top:60px
}

/* ===== MOBILE CTA ===== */
.mobile-cta{
  position:fixed;bottom:16px;left:16px;right:16px;
  display:none
}
@media(max-width:768px){
  .mobile-cta{display:block}
}
</style>
</head>

<body>

<!-- HERO -->
<div class="hero">
  <div class="container">
    <h1>Discover Events Near You</h1>
    <p>Weddings â€¢ Music â€¢ Corporate â€¢ Tech â€¢ Food</p>
    <div class="searchbar">
      <input id="search" placeholder="Search events">
      <select id="city">
        <option value="">All Cities</option>
        <option>Bangalore</option>
        <option>Mumbai</option>
        <option>Delhi</option>
        <option>Hyderabad</option>
      </select>
      <button onclick="filter()">Search</button>
    </div>
  </div>
</div>

<!-- CATEGORIES -->
<div class="container">
  <div class="categories">
    <div class="cat active" onclick="setCat('all')">All</div>
    <div class="cat" onclick="setCat('music')">Music</div>
    <div class="cat" onclick="setCat('tech')">Tech</div>
    <div class="cat" onclick="setCat('wedding')">Wedding</div>
    <div class="cat" onclick="setCat('corporate')">Corporate</div>
  </div>
</div>

<!-- EVENTS -->
<div class="container">
  <div class="grid" id="events"></div>
</div>

<!-- AI -->
<div class="container">
  <div class="ai">
    <h3>ðŸ¤– AI Event Helper</h3>
    <p id="aiText">What are you planning?</p>
    <button onclick="ai('wedding')">Wedding</button>
    <button onclick="ai('birthday')">Birthday</button>
    <button onclick="ai('corporate')">Corporate</button>
  </div>
</div>

<!-- MODAL -->
<div class="modal" id="modal">
  <div class="modal-box">
    <h3 id="mTitle"></h3>
    <p id="mInfo"></p>
    <input id="name" placeholder="Your Name">
    <input id="email" placeholder="Email">
    <button onclick="pay()">Pay & Book</button>
  </div>
</div>

<!-- ORGANIZER -->
<div class="container">
  <h2>Organize Your Own Event</h2>
  <p>Become an organizer and list your events.</p>
  <button onclick="alert('Organizer onboarding coming next')">Become an Organizer</button>
</div>

<!-- FOOTER -->
<footer>
  <p>Â© EventFlow Bharat</p>
  <p>Indiaâ€™s smart event booking platform</p>
</footer>

<!-- MOBILE CTA -->
<div class="mobile-cta">
  <button onclick="scrollTo(0,0)">Search Events</button>
</div>

<script>
const API="https://eventflow-bharat-backend.onrender.com";

const allEvents=[
 {id:1,title:"Music Night",cat:"music",city:"Bangalore",price:999,img:"https://picsum.photos/400/300?1"},
 {id:2,title:"Tech Conference",cat:"tech",city:"Delhi",price:1499,img:"https://picsum.photos/400/300?2"},
 {id:3,title:"Wedding Expo",cat:"wedding",city:"Mumbai",price:499,img:"https://picsum.photos/400/300?3"},
 {id:4,title:"Corporate Meetup",cat:"corporate",city:"Hyderabad",price:1999,img:"https://picsum.photos/400/300?4"}
];

let selected=null,currentCat="all";

function render(list){
 events.innerHTML="";
 list.forEach(e=>{
  events.innerHTML+=`
   <div class="card">
    <img src="${e.img}">
    <div class="card-body">
     <h4>${e.title}</h4>
     <p>${e.city}</p>
     <p class="price">â‚¹${e.price}</p>
     <button onclick="openModal(${e.id})">Book Now</button>
    </div>
   </div>`;
 });
}
render(allEvents);

function setCat(c){
 currentCat=c;
 document.querySelectorAll(".cat").forEach(x=>x.classList.remove("active"));
 event.target.classList.add("active");
 filter();
}

function filter(){
 const q=search.value.toLowerCase();
 const cityVal=city.value;
 render(allEvents.filter(e=>
  (currentCat==="all"||e.cat===currentCat)&&
  (cityVal===""||e.city===cityVal)&&
  e.title.toLowerCase().includes(q)
 ));
}

function openModal(id){
 selected=allEvents.find(e=>e.id===id);
 mTitle.innerText=selected.title;
 mInfo.innerText=`â‚¹${selected.price} â€¢ ${selected.city}`;
 modal.style.display="flex";
}

async function pay(){
 const key=await fetch(API+"/payment/key").then(r=>r.json());
 const order=await fetch(API+"/payment/order",{
  method:"POST",
  headers:{'Content-Type':'application/json'},
  body:JSON.stringify({amount:selected.price})
 }).then(r=>r.json());

 new Razorpay({
  key:key.key,
  amount:order.amount,
  order_id:order.id,
  handler:async()=>{
   await fetch(API+"/events",{
    method:"POST",
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify({
      name:selected.title,
      email:email.value,
      package:selected.title
    })
   });
   alert("ðŸŽ‰ Booking confirmed!");
   modal.style.display="none";
  }
 }).open();
}

function ai(t){
 aiText.innerText=
  t==="wedding"?"Premium or Luxury is ideal for weddings.":
  t==="corporate"?"Luxury suits corporate events.":
  "Basic or Premium works great.";
}
</script>

</body>
</html>
