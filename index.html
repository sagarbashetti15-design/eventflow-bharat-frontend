<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>EventFlow Bharat - Premium Event Booking</title>

<!-- Razorpay Checkout -->
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>

<style>
/* --- GLOBAL STYLES --- */
body {
  margin: 0;
  font-family: "Inter", sans-serif;
  background: #f7f9fc;
  color: #333;
}
.container {
  max-width: 1200px;
  margin: auto;
  padding: 20px;
}
/* --- HERO SECTION --- */
.hero {
  background: linear-gradient(135deg, #6c63ff, #4b47c6);
  color: white;
  padding: 60px 20px;
  border-radius: 0 0 30px 30px;
}
.hero h1 {
  font-size: 3rem;
  margin: 0;
}
.hero p {
  font-size: 1.2rem;
  margin: 10px 0 20px;
}
.hero button {
  background: white;
  color: #6c63ff;
  border: 0;
  padding: 15px 30px;
  font-size: 1rem;
  border-radius: 8px;
  cursor: pointer;
}
.hero button:hover {
  background: #f4f4f4;
}

/* --- CARD STYLES --- */
.card {
  background: white;
  border-radius: 12px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.08);
  padding: 30px;
  margin: 30px 0;
}
h2 {
  font-size: 1.8rem;
  margin-bottom: 15px;
}

/* --- PACKAGES --- */
.grid {
  display: grid;
  gap: 25px;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
}
.package {
  border: 2px solid #eee;
  border-radius: 12px;
  padding: 20px;
  text-align: center;
}
.package h3 {
  margin-bottom: 10px;
}
.package button {
  margin-top: 15px;
  background: #6c63ff;
  color: white;
  border: none;
  padding: 12px;
  border-radius: 8px;
  cursor: pointer;
}

/* --- FORM & INPUTS --- */
input {
  width: 100%;
  padding: 12px;
  margin: 8px 0;
  border: 1px solid #ccc;
  border-radius: 8px;
}

/* --- BUTTONS --- */
button {
  font-size: 16px;
}

/* --- ADMIN --- */
#admin {
  font-family: monospace;
  background: #fafafa;
  padding: 20px;
  border-radius: 10px;
  overflow-x: auto;
}
</style>
</head>

<body>

<!-- HERO -->
<div class="hero container">
  <h1>EventFlow Bharat</h1>
  <p>Modern, professional event booking â€” AI assisted, premium UX</p>
  <button onclick="scrollToPackages()">Explore Packages</button>
</div>

<!-- AI ASSISTANT -->
<div class="container">
  <div class="card">
    <h2>ðŸ¤– AI Event Assistant</h2>
    <p id="aiText">Not sure which event package suits you? Ask me!</p>
    <div class="grid">
      <button onclick="askAI('wedding')">Wedding</button>
      <button onclick="askAI('birthday')">Birthday</button>
      <button onclick="askAI('corporate')">Corporate</button>
    </div>
  </div>
</div>

<!-- PACKAGES -->
<div class="container" id="packages">
  <div class="card">
    <h2>Choose Your Package</h2>
    <div class="grid">
      <div class="package">
        <h3>Basic â‚¹9,999</h3>
        <p>Photography + Decoration</p>
        <button onclick="selectPackage('Basic',9999)">Select</button>
      </div>
      <div class="package">
        <h3>Premium â‚¹24,999</h3>
        <p>Extra amenities + DJ + Food</p>
        <button onclick="selectPackage('Premium',24999)">Select</button>
      </div>
      <div class="package">
        <h3>Luxury â‚¹49,999</h3>
        <p>Complete event management</p>
        <button onclick="selectPackage('Luxury',49999)">Select</button>
      </div>
    </div>
  </div>
</div>

<!-- BOOKING FORM -->
<div class="container">
  <div class="card" id="booking">
    <h2>ðŸ“‹ Enter Event Details</h2>
    <input id="name" placeholder="Event Name">
    <input id="date" type="date">
    <input id="venue" placeholder="Venue">
    <input id="email" placeholder="Email">
    <button onclick="pay()">Pay & Confirm Booking</button>
  </div>
</div>

<!-- SUCCESS -->
<div class="container">
  <div class="card" id="success">
    <h2>ðŸŽ‰ Booking Confirmed!</h2>
    <p>Thanks for booking! Check email for confirmation.</p>
  </div>
</div>

<!-- ADMIN -->
<div class="container">
  <button onclick="loadAdmin()">Admin Dashboard</button>
  <div id="admin"></div>
</div>

<script>
// same JS logic as before, unchanged
const API="https://eventflow-bharat-backend.onrender.com";
let selectedPackage="", amount=0;

function scrollToPackages() {
  document.getElementById("packages").scrollIntoView({ behavior:"smooth" });
}

function selectPackage(p,a) {
  selectedPackage=p;
  amount=a;
  document.getElementById("booking").scrollIntoView({ behavior:"smooth" });
}

async function pay(){
  const keyRes = await fetch(API+"/payment/key");
  const { key } = await keyRes.json();
  const order = await fetch(API+"/payment/order",{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({ amount })
  }).then(r=>r.json());
  
  new Razorpay({
    key,
    amount:order.amount,
    name:"EventFlow Bharat",
    order_id:order.id,
    handler: async ()=>{
      await fetch(API+"/events",{method:"POST",headers:{"Content-Type":"application/json"},
        body:JSON.stringify({ name:name.value, date:date.value, venue:venue.value, email:email.value, package:selectedPackage })
      });
      document.getElementById("success").style.display="block";
    }
  }).open();
}

async function loadAdmin(){
  const stats = await fetch(API+"/admin/stats").then(r=>r.json());
  const list = await fetch(API+"/admin/events").then(r=>r.json());
  document.getElementById("admin").innerText = JSON.stringify({ stats, list }, null, 2);
}

async function askAI(q){
  const res = await fetch(API+"/ai/assist",{
    method:"POST", headers:{"Content-Type":"application/json"}, body:JSON.stringify({ question:q })
  });
  const data = await res.json();
  document.getElementById("aiText").innerText = data.reply;
}
</script>

</body>
</html>
